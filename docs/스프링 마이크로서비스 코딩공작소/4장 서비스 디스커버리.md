4장. 서비스 디스커버리
===================

 * #### 서비스 디스커버리 : 분산환경에서 시스템의 물리적 위치를 찾는 것
   * #### MSA에서 서비스 디스커버리가 중요한 이유
     * 서비스 인스턴스 개수를 자유롭게 수평 확장, 축소 가능 (소비자에게 물리적 위치 노출X)
     * 비정상 인스턴스를 피해서 라우팅하므로 장애 피해 최소화

---       

###4.1 서비스 위치 찾기(전통적인 방식)
 <img src="https://user-images.githubusercontent.com/22882450/150636208-c44a1def-8c03-4dcf-a2bc-4ca44e2a383b.png" alt="그림 4-1 DNS와 로드 밸런서를 사용하는 전통적 서비스 위치 확인 모델">

* DNS와 로드 밸런서를 사용한 서비스 위치 확인 모델은 회사 내에서 정적 서버 그룹에서 실행되는 소수의 서비스에는 잘 동작
* 클라우드 기반의 MSA에서 부적합한 이유
  * <b>단일장애지점</b> : 로드밸런서가 전체 인프라스트럭처의 단일장애지점되어 전체 서비스 다운됨
  * <b>수평 확장의 제약성</b> : 로드밸런서 하나의 서버만 사용하여 부하 분산을 위한 확장 능력 제한
  * <b>정적관리</b> : 로드밸런서는 서비스를 신속 등록/취소 불가능(공급업체 독점 api 사용하여 라우팅 테이블에 저장)
  * <b>복잡성</b> : 아웃바운드 시 물리적인 서비스 매핑 정보가 필요하며 해당 정보 수동 정의 및 배포하여 운영 복잡성 가중

4.1 결론 
> 대용량 트랜잭션과 중복성을 처리하는 클라우드 환경에서는 <u>중앙집중식 인프라스트럭처는 효율적으로 확장되지 않고 비용 효율도 낮아서 결국 제대로 동작 못함</u>
 

